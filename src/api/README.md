# API Documentation

–≠—Ç–∞ –ø–∞–ø–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ API —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/api/
‚îú‚îÄ‚îÄ index.ts              # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª —ç–∫—Å–ø–æ—Ä—Ç–∞
‚îú‚îÄ‚îÄ httpClient.ts         # –ë–∞–∑–æ–≤—ã–π HTTP –∫–ª–∏–µ–Ω—Ç
‚îú‚îÄ‚îÄ community.ts          # API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º–∏
‚îú‚îÄ‚îÄ raffle.ts            # API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–æ–∑—ã–≥—Ä—ã—à–∞–º–∏
‚îú‚îÄ‚îÄ notifications.ts     # API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
‚îú‚îÄ‚îÄ hooks.ts             # React —Ö—É–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
‚îú‚îÄ‚îÄ utils.ts             # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è API
‚îú‚îÄ‚îÄ constants.ts         # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã API
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ò–º–ø–æ—Ä—Ç API —Ñ—É–Ω–∫—Ü–∏–π

```typescript
import { 
  communitiesApi, 
  rafflesApi, 
  notificationsApi,
  useCommunities,
  useRaffles,
  useNotifications
} from '@/api';
```

### –†–∞–±–æ—Ç–∞ —Å —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º–∏

```typescript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
const communities = await communitiesApi.getCards();

// –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ
const newCommunity = await communitiesApi.createCard({
  id: "1",
  name: "–¢–µ—Ö–Ω–æ-—Å–æ–æ–±—â–µ—Å—Ç–≤–æ",
  nickname: "@techclub",
  membersCount: "12 500",
  raffleCount: "8",
  adminType: "owner",
  avatarUrl: "https://example.com/avatar.jpg",
  status: "green",
  buttonDesc: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: 14.10 21:31 ‚Äì –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",
  stateText: "–ê–∫—Ç–∏–≤–µ–Ω"
});

// –û–±–Ω–æ–≤–∏—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤–æ
const updatedCommunity = await communitiesApi.updateCard("1", {
  // ... –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
});

// –£–¥–∞–ª–∏—Ç—å —Å–æ–æ–±—â–µ—Å—Ç–≤–æ
await communitiesApi.deleteCard("1");
```

### –†–∞–±–æ—Ç–∞ —Å —Ä–æ–∑—ã–≥—Ä—ã—à–∞–º–∏

```typescript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏
const raffles = await rafflesApi.getRaffles();

// –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–æ–∑—ã–≥—Ä—ã—à–∏
const activeRaffles = await rafflesApi.getActiveRaffles();

// –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ä–æ–∑—ã–≥—Ä—ã—à
const newRaffle = await rafflesApi.createRaffle({
  raffleId: "492850",
  name: "–ö–∞–∑–∞–Ω—å 24 ‚Äì –ù–æ–≤–æ—Å—Ç–∏",
  textRaffleState: "–ê–∫—Ç–∏–≤–Ω–æ",
  winnersCount: 5,
  mode: "both",
  memberCount: "27",
  timeLeft: "2–î 9–ß 21–ú",
  progress: 99,
  lastModified: "14.10.2025 21:31",
  modifiedBy: "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä",
  status–°ommunity: "error",
  statusNestedCard: "green",
  statusNestedText: "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤",
  nickname: "@mosnews24",
  membersCountNested: "522K",
  adminType: "admin"
});
```

### –†–∞–±–æ—Ç–∞ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏

```typescript
// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
const notifications = await notificationsApi.getNotifications();

// –ü–æ–ª—É—á–∏—Ç—å –Ω–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
const newNotifications = await notificationsApi.getNewNotifications();

// –û—Ç–º–µ—Ç–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–æ–µ
await notificationsApi.markAsRead("1");

// –û—Ç–º–µ—Ç–∏—Ç—å –≤—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–∞–∫ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
await notificationsApi.markAllAsRead();
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React —Ö—É–∫–æ–≤

```typescript
function CommunitiesList() {
  const { data: communities, loading, error, refetch } = useCommunities();

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
  if (error) return <div>–û—à–∏–±–∫–∞: {error}</div>;

  return (
    <div>
      {communities?.map(community => (
        <div key={community.id}>{community.name}</div>
      ))}
    </div>
  );
}
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
VITE_API_BASE_URL=http://localhost:8000
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ HTTP –∫–ª–∏–µ–Ω—Ç–∞

HTTP –∫–ª–∏–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:
- –û—à–∏–±–∫–∏ —Å–µ—Ç–∏
- –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (422)
- –û—à–∏–±–∫–∏ "–Ω–µ –Ω–∞–π–¥–µ–Ω–æ" (404)
- –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ (5xx)

## –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –ø–∞–ø–∫–µ `src/types/`:

- `CommunityCard` - –∫–∞—Ä—Ç–æ—á–∫–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- `RaffleCard` - –∫–∞—Ä—Ç–æ—á–∫–∞ —Ä–æ–∑—ã–≥—Ä—ã—à–∞
- `NotificationCard` - –∫–∞—Ä—Ç–æ—á–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

```typescript
import { formatErrorMessage, isNetworkError } from '@/api';

try {
  const data = await communitiesApi.getCards();
} catch (error) {
  if (isNetworkError(error)) {
    console.log('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏');
  } else {
    console.log('–û—à–∏–±–∫–∞:', formatErrorMessage(error));
  }
}
```

## –£—Ç–∏–ª–∏—Ç—ã

```typescript
import { retry, delay, removeEmptyFields } from '@/api';

// –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
const data = await retry(() => communitiesApi.getCards(), 3, 1000);

// –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É
await delay(1000);

// –£–¥–∞–ª–∏—Ç—å –ø—É—Å—Ç—ã–µ –ø–æ–ª—è –∏–∑ –æ–±—ä–µ–∫—Ç–∞
const cleanData = removeEmptyFields({ name: "test", empty: "" });
// –†–µ–∑—É–ª—å—Ç–∞—Ç: { name: "test" }
```

# VK API Integration –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤

## –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –º–æ–¥—É–ª—å –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å VK API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Ä–µ–∞–ª—å–Ω—ã—Ö —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ.

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. VKApi (`vkApi.ts`)
–ö–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å VK API —á–µ—Ä–µ–∑ VK Bridge:
- `getUserGroupsWithRights()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤ —Å –ø—Ä–∞–≤–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `getUserAdminGroups()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
- `getUserGroups()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `getGroupInfo(groupId)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ
- `getUserRoleInGroup(groupId)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 2. Transformers (`vkTransformers.ts`)
–£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö VK API –≤ —Ñ–æ—Ä–º–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- `transformVKGroupToCommunityCard()` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ VK –≥—Ä—É–ø–ø—ã –≤ –∫–∞—Ä—Ç–æ—á–∫—É —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- `transformVKGroupsToCommunityCards()` - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –≥—Ä—É–ø–ø
- `filterAdminGroups()` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö –≥—Ä—É–ø–ø
- `getRoleDisplayName()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–æ–ª–∏

### 3. Community API (`community.ts`)
–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ VK API:
- `getCards()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤ –∏–∑ VK API (–≤—Å–µ —Ä–æ–ª–∏)
- `getAdminGroups()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤
- `getAllUserGroups()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `getCardById()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –ø–æ ID

## –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞—Ö:

### 1. **–í–ª–∞–¥–µ–ª–µ—Ü** (`owner`)
- –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º
- –ú–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ò–∫–æ–Ω–∫–∞: üíé (–±—Ä–∏–ª–ª–∏–∞–Ω—Ç)

### 2. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** (`admin`)
- –ü—Ä–∞–≤–∞ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º
- –ú–æ–∂–µ—Ç –º–æ–¥–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç, —É–ø—Ä–∞–≤–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏
- –ò–∫–æ–Ω–∫–∞: üëë (–∫–æ—Ä–æ–Ω–∞)

### 3. **–†–µ–¥–∞–∫—Ç–æ—Ä** (`editor`)
- –ü—Ä–∞–≤–∞ –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ú–æ–∂–µ—Ç –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø–∏—Å–∏
- –ò–∫–æ–Ω–∫–∞: üìå (–±—É–ª–∞–≤–∫–∞)

### 4. **–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä** (`moderator`)
- –ü—Ä–∞–≤–∞ –Ω–∞ –º–æ–¥–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ú–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò–∫–æ–Ω–∫–∞: ‚ùì (–∑–Ω–∞–∫ –≤–æ–ø—Ä–æ—Å–∞)

### 5. **–†–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—å** (`advertiser`)
- –ü—Ä–∞–≤–∞ –Ω–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º—ã
- –ú–æ–∂–µ—Ç —Ä–∞–∑–º–µ—â–∞—Ç—å —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –æ—Ç –∏–º–µ–Ω–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- –ò–∫–æ–Ω–∫–∞: üì¢ (–º–µ–≥–∞—Ñ–æ–Ω)

### 6. **–£—á–∞—Å—Ç–Ω–∏–∫** (`member`)
- –û–±—ã—á–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
- –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- –ò–∫–æ–Ω–∫–∞: üë• (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `constants.ts`:
```typescript
export const VK_APP_ID = 53488132; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

### 2. –†–∞–∑—Ä–µ—à–µ–Ω–∏—è
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ `groups` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

### 3. VK Bridge
–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ VK API –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ VK Bridge –º–µ—Ç–æ–¥–æ–º `VKWebAppCallAPIMethod`, —á—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å CORS.

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ—à–∏–±–æ–∫ VK API:
- `260` - –î–æ—Å—Ç—É–ø –∫ —Å–ø–∏—Å–∫—É —Å–æ–æ–±—â–µ—Å—Ç–≤ –∑–∞–ø—Ä–µ—â–µ–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏
- `717` - –°–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ—Å—Ç–≤ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
- –û—à–∏–±–∫–∏ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
```typescript
import { useCommunities } from '@/api/hooks';

const { data: communities, loading, error, refetch } = useCommunities();
```

### –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VK API
```typescript
import { VKApi } from '@/api/vkApi';

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø—Ä–∞–≤–∞–º–∏
const groups = await VKApi.getUserGroupsWithRights();

// –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞
const adminGroups = await VKApi.getUserAdminGroups();
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–æ–ª–∏
```typescript
import { getRoleDisplayName } from '@/utils/vkTransformers';

const roleName = getRoleDisplayName('admin'); // "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"
const advertiserName = getRoleDisplayName('advertiser'); // "–†–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—å"
```

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

1. **VK Bridge –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ VK Bridge, —á—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å CORS
2. **–†–µ–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ä–æ–ª–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∫–∞–∂–¥–æ–º —Å–æ–æ–±—â–µ—Å—Ç–≤–µ
3. **–í—Å–µ –ø—Ä–∞–≤–∞**: –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≥–¥–µ —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å –ª—é–±—ã–µ –ø—Ä–∞–≤–∞ (–Ω–µ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
4. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (K, M)
5. **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞**: –°—Ç–∞—Ç—É—Å —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
6. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ VK API —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- VK Bridge –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –¥–æ—Å—Ç—É–ø –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞–º
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ VK Developer Portal

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### VK Bridge –º–µ—Ç–æ–¥—ã
- `VKWebAppGetAuthToken` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞
- `VKWebAppCallAPIMethod` - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ VK API

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- `extended: 1` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≥—Ä—É–ø–ø–∞—Ö
- `fields: 'activity,verified,description,members_count,role'` - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤–∫–ª—é—á–∞—è —Ä–æ–ª—å

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π
–†–æ–ª–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:
1. –ü–æ–ª—è `role` –∏–∑ VK API (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
2. –ü–æ–ª—è `is_advertiser` –¥–ª—è —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª–µ–π
3. –ü–æ–ª—è `is_admin` –∏ `type` –≥—Ä—É–ø–ø—ã
4. –ü–æ–ª—è `is_member` –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Å–æ–æ–±—â–µ—Å—Ç–≤
–ú–µ—Ç–æ–¥ `getUserGroupsWithRights()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç:
- –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (`is_admin === 1`)
- –ü—Ä–∞–≤–∞ —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—è (`is_advertiser === 1`)
- –†–æ–ª—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (`role === 'editor'`)
- –†–æ–ª—å –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞ (`role === 'moderator'`)
- –†–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (`role === 'admin'`)
- –†–æ–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ (`role === 'owner'`) 